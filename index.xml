<craft>
    <parameter name="type" type="string" default="sin"/>
    <parameter name="period" type="int" default="180"/>
    <script type="text/openjscad">

        function main(params){
            var period = params.period
            var pts,
                point; // array

            if(params.type === "sin"){
                for(var i=0; i<period; i+=0.1){
                    point = { //point object
                        x: i,
                        y: Math.sin(i)
                    }

                    pts.push(point);
                }
            } else if(params.type === "cos"){
                for(var i=0; i<period; i+=0.1){
                    point = { //point object
                        x: i,
                        y: Math.cos(i)
                    }

                    pts.push(point);

            } else if(params.type === "tan"){
                for(var i=0; i<period; i+=0.1){
                    point = { //point object
                        x: i,
                        y: Math.tan(i)
                    }

                    pts.push(point);
            }

            //draw coordinate & axis
            var arrow = difference(
                    cylinder({r:0.7, h:0.2, fn:3})
                    ,cylinder({r:0.7, h:0.2, fn:3})
                        .translate([-0.2,0,0])
                )
                ,x_axis = cube([0.2,10,0.2]).translate([0,-5,0])
                ,y_axis = cube([10,0.2,0.2]).translate([-5,0,0])
                ,coordinate = union(
                    x_axis
                    ,y_axis
                    ,arrow.translate([4.4,0.1,0])
                    ,arrow.rotateZ(90).translate([0.1,4.4,0])
                )


            var line = // extrude along with x, y pairs

            var graph = union(
                coordinate,
                line
            )
            return intersection(
                graph,
                cube([10,10,5]).translate([-5,-5,0])
            )

        }
    </script>
</craft>

