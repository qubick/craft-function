<craft>
    <parameter name="type" type="string" default="sin"/>
    <parameter name="period" type="int" default="180"/>
    <script type="text/openjscad">

        function main(params){

            var period = params.period*Math.PI/180
            var pts = [],
                point = []; // array

            if(params.type === "sin"){
                for(var i=0; i<period; i+=0.5){
                    point = [ //point object
                        i,
                        Math.sin(i)
                    ]

                    pts.push(point);
                }

            } else if(params.type === "cos"){
                for(var i=0; i<period; i+=0.5){
                    point = [ //point object
                        i,
                        Math.cos(i)
                    ]

                    pts.push(point);
                }

            } else if(params.type === "tan"){
                //tanget function is discrete at 90, 270, ...
                for(var i=0; i<period; i+=0.5){
                    point = [ //point object
                        i,
                        Math.tan(i)
                    ]

                    pts.push(point);
                }
            }
console.log(pts)
            //draw coordinate & axis
            var arrow = difference(
                    cylinder({r:0.7, h:0.2, fn:3})
                    ,cylinder({r:0.7, h:0.2, fn:3})
                        .translate([-0.2,0,0])
                )
                ,x_axis = cube([0.2,10,0.2]).translate([0,-5,0])
                ,y_axis = cube([10,0.2,0.2]).translate([-5,0,0])
                ,coordinate = union(
                    x_axis
                    ,y_axis
                    ,arrow.translate([4.4,0.1,0])
                    ,arrow.rotateZ(90).translate([0.1,4.4,0])
                )

            var curvepath = new CSG.Path2D(pts, false)// extrude along with x, y pairs
            console.log(typeof(curvepath))

            return union(
                coordinate
                ,rectangular_extrude(pts, {w: 0.5, h: 1, closed: false})
            )

        }
    </script>
</craft>

